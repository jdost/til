#!/bin/sh

source $(til import lib)
if [[ $TIL_ROOTDIR == $TILHOME ]]; then
   SEARCH_DIR="docs/"
else
   SEARCH_DIR="."
fi

show_help $1 "til grep - til repository search

USAGE: til grep [options] <query string>

Options are:
 -p - limits search to project entries
 -d - limits search to diary entries
 -t - limits search to topics entries
"

case "$1" in
   "-p") SEARCH_DIR+="/projects"; shift;;
   "-d") SEARCH_DIR+="/diary"; shift;;
   "-t") SEARCH_DIR+="/topics"; shift;;
esac

ack $* $SEARCH_DIR

#!/bin/sh

source $(til import lib)
PROJECT_ROOT=$DOCS_ROOT/projects
PROJECT_FILE=$PROJECT_ROOT/$1.$DOC_SUFFIX

show_help $1 "til project - til project description handler

USAGE: til project [options] <project>

Opens a new/existing file for the specified project.

Options:
  -l|--list - list existing project files
"

case $1 in
   -l|--list)
      ls_clean $PROJECT_ROOT
      ;;
   *)
      init_file $PROJECT_FILE

      _edit $PROJECT_FILE && git add $PROJECT_FILE
      is_empty $PROJECT_FILE && rm $PROJECT_FILE
      ;;
esac
